(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-827904f8"],{"27c8":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{key:t.dataKey},[l("div",{staticClass:"navbar"},[l("div",{staticClass:"d-flex flex-wrap align-items-center"},[l("div",{staticClass:"navbar-title",on:{click:function(e){return e.stopPropagation(),t.$parent.leaveFolder()}}},[t._v(" 我的雲端硬碟 ")]),l("div",{staticClass:"navbar-title-arrow"}),l("div",{staticClass:"navbar-title-folderName"},[t._v("垃圾桶")]),t.search?[l("div",{staticClass:"navbar-title-arrow"}),l("div",{staticClass:"navbar-title-folderName"},[t._v('"'+t._s(t.search)+'" 搜尋結果')])]:t._e()],2),l("div",{staticClass:"navbar-search"},[l("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"navbar-search-input",attrs:{type:"text",placeholder:"搜尋您的檔案"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])]),l("div",{staticClass:"w-100 title"},[t._v("資料夾")]),l("transition",{attrs:{name:"fade"}},[t.folder[0]&&!t.filterRet?l("div",{staticClass:"row gutter-10"},t._l(t.folder,(function(e){return l("div",{key:e.fullPath,staticClass:"col-xl-3 col-lg-4 col-md-6 col-sm-12"},[l("div",{staticClass:"folder"},[l("div",{staticClass:"folder-btnGroup"},[l("div",{staticClass:"folder-btn",on:{click:function(a){return a.preventDefault(),t.clickRecoverFolder(e)}}},[l("img",{attrs:{src:a("5f26"),alt:""}})]),l("div",{staticClass:"folder-btn",on:{click:function(a){return a.preventDefault(),t.confirmDelFolder(e)}}},[l("img",{attrs:{src:a("2d7f"),alt:""}})])]),l("span",{staticClass:"text-truncate d-inline-block px-2 w-100"},[t._v(t._s(e.fakeName))])])])})),0):t._e()]),l("transition",{attrs:{name:"fade"}},[t.filterRet?l("div",{staticClass:"row gutter-10"},t._l(t.filterRet.folders,(function(e){return l("div",{key:e.fullPath,staticClass:"col-xl-3 col-lg-4 col-md-6 col-sm-12"},[l("div",{staticClass:"folder"},[l("div",{staticClass:"folder-btnGroup"},[l("div",{staticClass:"folder-btn",on:{click:function(a){return a.preventDefault(),t.clickRecoverFolder(e)}}},[l("img",{attrs:{src:a("5f26"),alt:""}})]),l("div",{staticClass:"folder-btn",on:{click:function(a){return a.preventDefault(),t.confirmDelFolder(e)}}},[l("img",{attrs:{src:a("2d7f"),alt:""}})])]),l("span",{staticClass:"text-truncate d-inline-block px-2 w-100"},[t._v(t._s(e.fakeName))])])])})),0):t._e()]),l("div",{staticClass:"w-100 title"},[t._v("檔案")]),l("transition",{attrs:{name:"fade"}},[t.file[0]&&!t.filterRet?l("div",{staticClass:"row gutter-10"},t._l(t.file,(function(e){return l("div",{key:e.fullPath,staticClass:"col-xl-3 col-lg-4 col-md-6 col-sm-12"},[l("div",{staticClass:"file"},[l("div",{staticClass:"file-btnGroup"},[l("div",{staticClass:"file-btn",on:{click:function(a){return a.preventDefault(),t.clickRecover(e)}}},[l("img",{attrs:{src:a("5f26"),alt:""}})]),l("div",{staticClass:"file-btn",on:{click:function(a){return a.preventDefault(),t.clickDelete(e)}}},[l("img",{attrs:{src:a("2d7f"),alt:""}})])]),l("img",{staticClass:"file-img",attrs:{src:e.imgUrl,alt:""}}),l("span",{staticClass:"text-truncate d-inline-block px-2 w-100"},[t._v(t._s(e.fakeName))])])])})),0):t._e()]),l("transition",{attrs:{name:"fade"}},[t.filterRet?l("div",{staticClass:"row gutter-10"},t._l(t.filterRet.files,(function(e){return l("div",{key:e.fullPath,staticClass:"col-xl-3 col-lg-4 col-md-6 col-sm-12"},[l("div",{staticClass:"file"},[l("div",{staticClass:"file-btnGroup"},[l("div",{staticClass:"file-btn",on:{click:function(a){return a.preventDefault(),t.clickRecover(e)}}},[l("img",{attrs:{src:a("5f26"),alt:""}})]),l("div",{staticClass:"file-btn",on:{click:function(a){return a.preventDefault(),t.clickDelete(e)}}},[l("img",{attrs:{src:a("2d7f"),alt:""}})])]),l("img",{staticClass:"file-img",attrs:{src:e.imgUrl,alt:""}}),l("span",{staticClass:"text-truncate d-inline-block px-2 w-100"},[t._v(t._s(e.fakeName))])])])})),0):t._e()])],1)},i=[],r=(a("ac1f"),a("841c"),a("159b"),a("b0c0"),a("c740"),a("a434"),a("260b")),s=(a("588e"),{data:function(){return{folder:this.$parent.trashFolder,file:this.$parent.trashFile,search:"",dataKey:0}},computed:{filterRet:function(){var t=this;if(this.search||this.$parent.search){var e={files:[],folders:[]};return this.folder.forEach((function(a){-1!==a.name.indexOf(t.search||t.$parent.search)&&e.folders.push(a)})),this.file.forEach((function(a){-1!==a.name.indexOf(t.search||t.$parent.search)&&e.files.push(a)})),e}return!1}},methods:{clickDelete:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0==e){if(confirm("是否確定永久刪除該檔案？")){var a=this,l=r["a"].storage().ref(t.fullPath);l.delete().then((function(){a.dataKey+=1,a.$parent.getData();var e=a.$parent.trashFile.findIndex((function(e){return e.fullPath==t.fullPath}));a.$parent.trashFile.splice(e,1);var l=a.$parent.starFile.findIndex((function(e){return e.fullPath==t.fullPath}));a.$parent.starFile.splice(l,1)})).catch((function(t){console.log(t)}))}}else{var i=this,s=r["a"].storage().ref(t.fullPath);s.delete().then((function(){i.dataKey+=1,i.$parent.getData()})).catch((function(t){console.log(t)}))}},confirmDelFolder:function(t){var e=this;confirm("是否確定永久刪除"+t.fullPath+"資料夾？")&&e.clickDeleteFolder(t)},clickDeleteFolder:function(t){var e=this,a=r["a"].storage().ref(t.fullPath);a.listAll().then((function(a){a.items.forEach((function(t){e.clickDelete(t,!0)})),a.prefixes.length&&a.prefixes.forEach((function(t){e.clickDeleteFolder(t)}));var l=e.$parent.trashFolder.findIndex((function(e){return e.fullPath==t.fullPath}));e.$parent.trashFolder.splice(l,1);var i=e.$parent.starFolder.findIndex((function(e){return e.fullPath==t.fullPath}));e.$parent.starFolder.splice(i,1)})).catch((function(t){console.log(t)}))},clickRecover:function(t){t.isTrash=!1;var e=this.$parent.trashFile.findIndex((function(e){return e.fullPath==t.fullPath}));this.$parent.trashFile.splice(e,1),this.$parent.starFile.forEach((function(e){e.fullPath==t.fullPath&&(e.isTrash=!1)})),this.dataKey+=1},clickRecoverFolder:function(t){t.isTrash=!1;var e=this.$parent.trashFolder.findIndex((function(e){return e.fullPath==t.fullPath}));this.$parent.trashFolder.splice(e,1),this.$parent.starFolder.forEach((function(e){e.fullPath==t.fullPath&&(e.isTrash=!1)})),this.dataKey+=1}},created:function(){}}),n=s,c=a("2877"),o=Object(c["a"])(n,l,i,!1,null,null,null);e["default"]=o.exports},"5f26":function(t,e,a){t.exports=a.p+"img/return.1dd5be89.svg"}}]);
//# sourceMappingURL=chunk-827904f8.7abf8e0d.js.map