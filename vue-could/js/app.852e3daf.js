(function(t){function e(e){for(var r,n,s=e[0],l=e[1],c=e[2],d=0,u=[];d<s.length;d++)n=s[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&u.push(o[n][0]),o[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);f&&f(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,n=1;n<a.length;n++){var s=a[n];0!==o[s]&&(r=!1)}r&&(i.splice(e--,1),t=l(l.s=a[0]))}return t}var r={},n={app:0},o={app:0},i=[];function s(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-2d207472":"5770a302","chunk-2d21a9f2":"d78d4acf","chunk-827904f8":"7abf8e0d","chunk-d9aea0f4":"839f00a5"}[t]+".js"}function l(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={"chunk-d9aea0f4":1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise((function(e,a){for(var r="css/"+({}[t]||t)+"."+{"chunk-2d207472":"31d6cfe0","chunk-2d21a9f2":"31d6cfe0","chunk-827904f8":"31d6cfe0","chunk-d9aea0f4":"e445b89f"}[t]+".css",o=l.p+r,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var c=i[s],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===r||d===o))return e()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){c=u[s],d=c.getAttribute("data-href");if(d===r||d===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var r=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete n[t],f.parentNode.removeChild(f),a(i)},f.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){n[t]=0})));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise((function(e,a){r=o[t]=[e,a]}));e.push(r[2]=i);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=s(t);var u=new Error;c=function(e){d.onerror=d.onload=null,clearTimeout(f);var a=o[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",u.name="ChunkLoadError",u.type=r,u.request=n,a[1](u)}o[t]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},l.m=t,l.c=r,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)l.d(a,r,function(e){return t[e]}.bind(null,r));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var f=d;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"10c8":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"rename-modal",tabindex:"-1",role:"dialog","aria-labelledby":"rename-modal","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-content-title"},[t._v("重新命名")]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.item.fakeName,expression:"item.fakeName",modifiers:{lazy:!0}}],staticClass:"modal-content-input",attrs:{type:"text",name:"",placeholder:"請輸入名稱",required:""},domProps:{value:t.item.fakeName},on:{change:function(e){return t.$set(t.item,"fakeName",e.target.value)}}}),a("div",{staticClass:"modal-content-btnGroup"},[a("button",{staticClass:"modal-content-btn",on:{click:function(e){return t.cancel(t.item)}}},[t._v("取消")]),a("button",{staticClass:"modal-content-btn modal-content-btn-secondary",on:{click:function(e){return t.updateName()}}},[t._v(" 確定 ")])])])])])},n=[],o=(a("498a"),a("1157")),i=a.n(o),s={data:function(){return{}},props:["item","oldName"],methods:{cancel:function(t){t.fakeName=this.oldName,i()("#rename-modal").modal("hide")},updateName:function(){if(!this.item.fakeName.trim())return alert("名稱不得為空"),this.item.fakeName=this.oldName,!1;i()("#rename-modal").modal("hide")}}},l=s,c=a("2877"),d=Object(c["a"])(l,r,n,!1,null,null,null);e["a"]=d.exports},"2d7f":function(t,e,a){t.exports=a.p+"img/icon-trash.aad70047.svg"},"4ba7":function(t,e,a){t.exports=a.p+"img/icon-folder-add.7e1574a8.svg"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("4de4"),a("b680");var r=a("2b0e"),n=a("260b"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.isRouterAlive?a("router-view"):t._e()],1)},i=[],s={provide:function(){return{reload:this.reload}},data:function(){return{isRouterAlive:!0}},methods:{reload:function(){var t=this;this.isRouterAlive=!1,this.$nextTick((function(){t.isRouterAlive=!0}))}}},l=s,c=(a("5c0b"),a("2877")),d=Object(c["a"])(l,o,i,!1,null,null,null),u=d.exports,f=(a("d3b7"),a("3ca3"),a("ddb0"),a("8c4f")),m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content row"},[r("div",{staticClass:"header-mobile"},[r("div",{staticClass:"header-mobile-btn",on:{click:function(e){return e.stopPropagation(),t.toggleSidebar()}}},[r("img",{attrs:{src:a("c8fa"),alt:""}})]),r("div",{staticClass:"header-mobile-title",on:{click:function(e){return e.stopPropagation(),t.leaveFolder()}}},[t._v(" 我的雲端硬碟 ")]),r("div",{staticClass:"header-mobile-search-icon",style:{"background-image":"url("+a("e854")+")"},on:{click:function(e){return e.preventDefault(),t.toggleSearch()}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"header-mobile-search-input",attrs:{type:"text",placeholder:"搜尋您的檔案"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),r("button",{staticClass:"close header-mobile-search-close",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.search=""}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),r("div",{staticClass:"sidebar"},[r("button",{staticClass:"close text-white d-md-none",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.toggleSidebar()}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),r("router-link",{attrs:{to:"/"}},[r("h1",{staticClass:"logo",style:{"background-image":"url("+a("e347")+")"}},[t._v(" could ")])]),r("div",{staticClass:"sidebar-btnGroup"},[r("div",{staticClass:"sidebar-btnGroup-item sidebar-btnGroup-item-active",attrs:{onclick:"uploadFile.click()"}},[r("img",{attrs:{src:a("e79d"),alt:""}}),t._v(" 上傳檔案 ")]),r("input",{staticClass:"d-none",attrs:{type:"file",name:"",id:"uploadFile"},on:{click:function(e){return t.clickUpload()}}}),r("div",{staticClass:"sidebar-btnGroup-item",attrs:{onclick:"uploadFolder.click()"}},[r("img",{attrs:{src:a("c8eb"),alt:""}}),t._v(" 上傳資料夾 ")]),r("input",{staticClass:"d-none",attrs:{type:"file",id:"uploadFolder",webkitdirectory:""},on:{click:function(e){return t.clickUploadFolder()}}}),r("div",{staticClass:"sidebar-btnGroup-item",attrs:{"data-toggle":"modal","data-target":"#addFolder-modal"}},[r("img",{attrs:{src:a("4ba7"),alt:""}}),t._v(" 新資料夾 ")]),r("div",{staticClass:"modal fade",attrs:{id:"addFolder-modal",tabindex:"-1",role:"dialog","aria-labelledby":"addFolder-modal","aria-hidden":"true"}},[r("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-content-title"},[t._v("建立新資料夾")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.addFolderName,expression:"addFolderName"}],staticClass:"modal-content-input",attrs:{type:"text",name:"",placeholder:"資料夾名稱"},domProps:{value:t.addFolderName},on:{input:function(e){e.target.composing||(t.addFolderName=e.target.value)}}}),r("div",{staticClass:"modal-content-btnGroup"},[r("button",{staticClass:"modal-content-btn",attrs:{"data-dismiss":"modal"}},[t._v(" 取消")]),r("button",{staticClass:"modal-content-btn modal-content-btn-secondary",on:{click:function(e){return t.addFolder()}}},[t._v(" 建立 ")])])])])]),r("a",{staticClass:"sidebar-btnGroup-item",attrs:{href:"javascript:alert('抱歉，該功能尚未開啟！')"}},[r("img",{attrs:{src:a("9e68"),alt:""}}),t._v(" 共享資料夾 ")]),r("router-link",{staticClass:"sidebar-btnGroup-item",attrs:{to:"/favorite"},on:{click:function(e){e.stopPropagation(),t.isShowStar=!0}}},[r("img",{attrs:{src:a("8a7e"),alt:""}}),t._v(" 已標記星號 ")]),r("router-link",{staticClass:"sidebar-btnGroup-item",attrs:{to:"/trash"}},[r("img",{attrs:{src:a("2d7f"),alt:""}}),t._v(" 垃圾桶 ")])],1),r("div",{staticClass:"monster"},[r("img",{staticClass:"monster-bgImg",class:{"monster-bgImg-active":t.isUploading||t.showStorage},attrs:{src:a("8262"),alt:""},on:{click:function(e){return t.changeShow()}}}),r("transition",{attrs:{name:"fade"}},[t.isUploading?r("div",{staticClass:"monster-pop"},[r("div",{staticClass:"monster-pop-title"},[t._v("檔案上傳")]),t.isFolder?r("div",{staticClass:"monster-pop-desc"},[t._v("剩餘 "+t._s(t.rest)+" 個檔案")]):r("div",{staticClass:"monster-pop-desc"},[t._v(" 剩餘"+t._s(100-parseInt(t.runningValue))+"% ")]),r("div",{staticClass:"progress-box"},[r("div",{staticClass:"progress-running"},[t._v(t._s(t._f("niceBytes")(t.running)))]),r("div",{staticClass:"progress-total"},[t._v(t._s(t._f("niceBytes")(t.fileSize)))]),r("div",{staticClass:"progress"},[r("progress",{staticClass:"progress-bar",attrs:{max:"100"},domProps:{value:parseInt(t.runningValue)}})])]),r("div",{staticClass:"monster-pop-arrow"})]):t._e()]),r("transition",{attrs:{name:"fade"}},[t.showStorage?r("div",{staticClass:"monster-pop"},[r("div",{staticClass:"monster-pop-title"},[t._v("儲存空間")]),r("div",{staticClass:"monster-pop-desc"},[t._v(" 剩餘"+t._s(t.storage-(t.nowStorage/1073741824).toFixed(2))+"GB ")]),r("div",{staticClass:"progress-box"},[r("div",[t._v(t._s(t._f("niceBytes")(t.nowStorage)))]),r("div",[t._v(t._s(t.storage)+"GB")]),r("div",{staticClass:"progress"},[r("progress",{staticClass:"progress-bar",attrs:{max:"100"},domProps:{value:t.nowStorageValue}})])]),r("div",{staticClass:"monster-pop-arrow"})]):t._e()])],1)],1),r("main",{key:t.dataKey,staticClass:"col main"},[t.folderLink||t.search?r("div",{staticClass:"d-flex d-md-none text-muted align-items-center flex-wrap mt-4 justify-content-center"},[t.folderLink?[t._v(" 當前目錄: "),t._l(t.folderLink,(function(e){return r("div",{key:e.fullPath,staticClass:"text-light ml-1",attrs:{role:"button"},on:{click:function(a){return a.target!==a.currentTarget?null:t.returnFolder(e)}}},[t._v(" "+t._s(e)+"/ ")])}))]:t._e(),t.search&&t.folderLink?r("div",{staticClass:"header-mobile-title-arrow"}):t._e(),t.search?[r("div",{staticClass:"header-mobile-title-folderName"},[t._v(' "'+t._s(t.search)+'" 搜尋結果 ')])]:t._e()],2):t._e(),"/"==t.$route.path?r("div",{staticClass:"navbar"},[r("div",{staticClass:"d-flex flex-wrap align-items-center"},[r("div",{staticClass:"navbar-title",on:{click:function(e){return e.stopPropagation(),t.leaveFolder()}}},[t._v(" 我的雲端硬碟 ")]),t.search?[r("div",{staticClass:"navbar-title-arrow"}),r("div",{staticClass:"navbar-title-folderName"},[t._v('"'+t._s(t.search)+'" 搜尋結果')])]:t._e()],2),r("div",{staticClass:"navbar-search"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"navbar-search-input",style:{"background-image":"url("+a("e854")+")"},attrs:{type:"text",placeholder:"搜尋您的檔案"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])]):r("router-view",{key:t.$route.path}),"/"==t.$route.path?[t.folder[0]?r("div",{staticClass:"w-100 title"},[t._v("資料夾")]):t._e(),r("transition",{attrs:{name:"fade"}},[t.folder[0]&&!t.filterRet?r("div",{staticClass:"row gutter-10"},t._l(t.folder,(function(e){return r("div",{key:e.fullPath,staticClass:"col-xl-3 col-lg-4 col-md-6 col-sm-12",class:{"d-none":e.isTrash}},[r("div",{staticClass:"folder",on:{click:function(a){return a.target!==a.currentTarget?null:t.enterFolder(e.name)}}},[r("div",{staticClass:"folder-btnGroup"},[r("div",{staticClass:"folder-btn",on:{click:function(a){return a.stopPropagation(),t.toggleStarFolder(e)}}},[e.isStar?r("img",{attrs:{src:a("5925"),alt:"標記星號"}}):r("img",{attrs:{src:a("8a7e"),alt:"標記星號"}})]),r("div",{staticClass:"dropdown"},[r("div",{staticClass:"folder-btn",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[r("img",{attrs:{src:a("b68c"),alt:"選單"}})]),r("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[r("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("共享")]),r("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.clickDownloadFolder(e)}}},[t._v("下載")]),r("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.openReNameModal(e)}}},[t._v("重新命名")]),r("a",{staticClass:"dropdown-item border-0",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.clickTrashFolder(e)}}},[t._v("移至垃圾桶")])])])]),r("span",{staticClass:"text-truncate d-inline-block px-2 w-100"},[t._v(t._s(e.fakeName))])])])})),0):t._e()]),r("transition",{attrs:{name:"fade"}},[t.filterRet?r("div",{staticClass:"row gutter-10"},t._l(t.filterRet.folders,(function(e){return r("div",{key:e.fullPath,staticClass:"col-xl-3 col-lg-4 col-md-6 col-sm-12",class:{"d-none":e.isTrash}},[r("div",{staticClass:"folder",on:{click:function(a){return a.target!==a.currentTarget?null:t.enterFolder(e.name)}}},[r("div",{staticClass:"folder-btnGroup"},[r("div",{staticClass:"folder-btn",on:{click:function(a){return a.stopPropagation(),t.toggleStarFolder(e)}}},[e.isStar?r("img",{attrs:{src:a("5925"),alt:"標記星號"}}):r("img",{attrs:{src:a("8a7e"),alt:"標記星號"}})]),r("div",{staticClass:"dropdown"},[r("div",{staticClass:"folder-btn",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[r("img",{attrs:{src:a("b68c"),alt:"選單"}})]),r("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[r("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("共享")]),r("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.clickDownloadFolder(e)}}},[t._v("下載")]),r("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.openReNameModal(e)}}},[t._v("重新命名")]),r("a",{staticClass:"dropdown-item border-0",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.clickTrashFolder(e)}}},[t._v("移至垃圾桶")])])])]),r("span",{staticClass:"text-truncate d-inline-block px-2 w-100"},[t._v(t._s(e.fakeName))])])])})),0):t._e()]),t.file[0]?r("div",{staticClass:"w-100 title"},[t._v("檔案")]):t._e(),r("transition",{attrs:{name:"fade"}},[t.file[0]&&!t.filterRet?r("div",{staticClass:"row gutter-10"},t._l(t.file,(function(e){return r("div",{key:e.fullPath,staticClass:"col-xl-3 col-lg-4 col-md-6 col-sm-12",class:{"d-none":e.isTrash}},[r("div",{staticClass:"file"},[r("div",{staticClass:"file-btnGroup"},[r("div",{staticClass:"file-btn",on:{click:function(a){return a.stopPropagation(),t.toggleStarFile(e)}}},[e.isStar?r("img",{attrs:{src:a("5925"),alt:"標記星號"}}):r("img",{attrs:{src:a("8a7e"),alt:"標記星號"}})]),r("div",{staticClass:"dropdown"},[r("div",{staticClass:"file-btn",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[r("img",{attrs:{src:a("b68c"),alt:"選單"}})]),r("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[r("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("共享")]),r("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.clickDownload(e.name)}}},[t._v(" 下載 ")]),r("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.openReNameModal(e)}}},[t._v("重新命名")]),r("a",{staticClass:"dropdown-item border-0",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.clickTrash(e)}}},[t._v(" 移至垃圾桶 ")])])])]),r("img",{staticClass:"file-img",attrs:{src:e.imgUrl,alt:""}}),r("span",{staticClass:"text-truncate d-inline-block px-2 w-100"},[t._v(t._s(e.fakeName))])])])})),0):t._e()]),r("transition",{attrs:{name:"fade"}},[t.filterRet?r("div",{staticClass:"row gutter-10"},t._l(t.filterRet.files,(function(e){return r("div",{key:e.fullPath,staticClass:"col-xl-3 col-lg-4 col-md-6 col-sm-12",class:{"d-none":e.isTrash}},[r("div",{staticClass:"file"},[r("div",{staticClass:"file-btnGroup"},[r("div",{staticClass:"file-btn",on:{click:function(a){return a.stopPropagation(),t.toggleStarFile(e)}}},[e.isStar?r("img",{attrs:{src:a("5925"),alt:"標記星號"}}):r("img",{attrs:{src:a("8a7e"),alt:"標記星號"}})]),r("div",{staticClass:"dropdown"},[r("div",{staticClass:"file-btn",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[r("img",{attrs:{src:a("b68c"),alt:"選單"}})]),r("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[r("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("共享")]),r("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.clickDownload(e.name)}}},[t._v(" 下載 ")]),r("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.openReNameModal(e)}}},[t._v("重新命名")]),r("a",{staticClass:"dropdown-item border-0",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.clickTrash(e)}}},[t._v(" 移至垃圾桶 ")])])])]),r("img",{staticClass:"file-img",attrs:{src:e.imgUrl,alt:""}}),r("span",{staticClass:"text-truncate d-inline-block px-2 w-100"},[t._v(t._s(e.fakeName))])])])})),0):t._e()])]:t._e()],2),r("ReName",{attrs:{item:t.item,oldName:t.oldName}})],1)},p=[],h=(a("ac1f"),a("841c"),a("159b"),a("b0c0"),a("1276"),a("a9e3"),a("466d"),a("5319"),a("c740"),a("a434"),a("7db0"),a("2b3d"),a("a630"),a("25f0"),a("1157")),g=a.n(h),v=(a("588e"),a("10c8")),b={data:function(){return{item:{},oldName:"",storage:5,nowStorage:0,showStorage:!1,isUploading:!1,isFolder:!1,runningValue:0,running:0,fileSize:0,rest:0,uploadingDesc:"",search:"",folder:[],file:[],starFolder:[],starFile:[],trashFolder:[],trashFile:[],isEnterFolder:!1,nowFolder:{file:[],folder:[],name:""},addFolderName:"",dataKey:0,isShowStar:!1}},components:{ReName:v["a"]},computed:{nowStorageValue:function(){return(this.nowStorage/1073741824).toFixed(2)/this.storage*100},filterRet:function(){var t=this;if(this.search){var e={files:[],folders:[]};return this.folder.forEach((function(a){-1!==a.name.indexOf(t.search)&&e.folders.push(a)})),this.file.forEach((function(a){-1!==a.name.indexOf(t.search)&&e.files.push(a)})),e}return!1},folderLink:function(){return!!this.$route.params.folderName&&this.$route.params.folderName.split("~")}},watch:{isUploading:function(){this.isUploading&&(this.showStorage=!1)},isShowStar:function(){this.isShowStar&&this.leaveFolder()},$route:function(){this.getData(),this.search=""},search:function(){this.search.length?g()(".header-mobile-search-close").fadeIn():g()(".header-mobile-search-close").fadeOut()}},methods:{toggleSearch:function(){g()(".header-mobile-search-input").fadeToggle()},getNowStorage:function(t){var e=this;n["a"].storage().ref(t).listAll().then((function(t){t.items.forEach((function(t){var a=n["a"].storage().ref(t.fullPath);a.getMetadata().then((function(t){e.nowStorage+=Number(t.size)}))})),t.prefixes.length&&t.prefixes.forEach((function(t){e.getNowStorage(t.fullPath)}))}))},getData:function(){var t=this,e=[],a=[];t.nowStorage=0;var r=n["a"].storage().ref();r.listAll().then((function(r){r.prefixes.forEach((function(e){a.push({name:e.name,fullPath:e.fullPath,isStar:!1,fakeName:e.name,isTrash:!1}),t.getNowStorage(e.fullPath)})),r.items.forEach((function(a){var r=n["a"].storage().ref(a.fullPath);r.getMetadata().then((function(e){t.nowStorage+=Number(e.size)})),r.getDownloadURL().then((function(r){if(a.name.match(/\.(jpeg|jpg|gif|png|ico|svg)$/))e.push({name:a.name,fakeName:a.name,isStar:!1,imgUrl:r,fullPath:a.fullPath,isTrash:!1});else{var n=a.name.split(".");e.push({name:a.name,fakeName:a.name,isStar:!1,imgUrl:"https://fakeimg.pl/260x180/?text=".concat(n[n.length-1]),fullPath:a.fullPath,isTrash:!1})}e.forEach((function(e){t.starFile.forEach((function(t){t.fullPath==e.fullPath&&(e.isStar=!0,e.fakeName=t.fakeName)})),t.trashFile.forEach((function(t){t.fullPath==e.fullPath&&(e.isTrash=!0)}))}))}))})),a.forEach((function(e){t.starFolder.forEach((function(t){t.fullPath==e.fullPath&&(e.isStar=!0,e.fakeName=t.fakeName)})),t.trashFolder.forEach((function(t){t.fullPath==e.fullPath&&(e.isTrash=!0)}))})),t.folder=a,t.file=e}))},addFolder:function(){var t=this;"Favorite"==t.$route.name?(t.folder.push({name:t.addFolderName,isStar:!0,fakeName:t.addFolderName,fullPath:t.addFolderName,isTrash:!1}),t.starFolder.push({name:t.addFolderName,isStar:!0,fakeName:t.addFolderName,fullPath:t.addFolderName,isTrash:!1})):t.folder.push({name:t.addFolderName,isStar:!1,fakeName:t.addFolderName,fullPath:t.addFolderName,isTrash:!1}),t.$route.params.folderName&&(t.nowFolder.name=t.$route.params.folderName.replace(/~/g,"/")),t.nowFolder.name&&t.nowFolder.folder.push({name:t.addFolderName,isStar:!1,fakeName:t.addFolderName,fullPath:t.addFolderName,isTrash:!1}),g()("#addFolder-modal").modal("hide"),t.addFolderName=""},toggleStarFolder:function(t){if(t.isStar=!t.isStar,this.dataKey+=1,t.isStar)this.starFolder.push(t);else{var e=this.starFolder.findIndex((function(e){return e==t}));this.starFolder.splice(e,1)}},toggleStarFile:function(t){if(t.isStar=!t.isStar,this.dataKey+=1,t.isStar)this.starFile.push(t);else{var e=this.starFile.findIndex((function(e){return e==t}));this.starFile.splice(e,1)}},clickUpload:function(){var t=this;t.isFolder=!1,"Favorite"==t.$route.name&&t.$router.push("/"),g()("#uploadFile").unbind().on("change",(function(e){var a,r,o=e.target.files[0];if(o)if(t.$route.params.folderName){t.nowFolder.name=t.$route.params.folderName.replace(/~/g,"/");var i=n["a"].storage().ref(t.nowFolder.name);i.listAll().then((function(e){if(a=e.items.find((function(t){return t.name==o.name})),a){if(!confirm(o.name+" 已存在，是否覆蓋？"))return;r=t.nowFolder.name+"/"+o.name}else r=t.nowFolder.name+"/"+o.name;if(r){var i=n["a"].storage().ref(r),s=i.put(o);s.on("state_changed",(function(e){t.isUploading=!0,t.runningValue=e.bytesTransferred/e.totalBytes*100,t.running=e.bytesTransferred,t.fileSize=e.totalBytes}),(function(){}),(function(){t.enterFolder(t.nowFolder.name)}))}}))}else{if(a=t.file.find((function(t){return t.name==o.name})),a){if(!confirm(o.name+" 已存在，是否覆蓋？"))return;r=o.name}else r=o.name;if(r){var s=n["a"].storage().ref(r),l=s.put(o);l.on("state_changed",(function(e){t.isUploading=!0,t.runningValue=e.bytesTransferred/e.totalBytes*100,t.running=e.bytesTransferred,t.fileSize=e.totalBytes}),(function(){}),(function(){t.getData()}))}}}))},clickUploadFolder:function(){var t=this;"Favorite"==t.$route.name&&t.$router.push("/"),g()("#uploadFolder").unbind().on("change",(function(e){t.isFolder=!0;var a=e.target.files[0].webkitRelativePath,r=n["a"].storage().ref();t.$route.params.folderName&&(t.nowFolder.name=t.$route.params.folderName.replace(/~/g,"/"),r=n["a"].storage().ref(t.nowFolder.name)),r.listAll().then((function(r){var o=r.prefixes.find((function(t){return t.name==a.split("/")[0]}));if(o){if(!confirm("資料夾已存在，是否繼續執行？\n\n提醒您：\n相同名稱的文件將會被取代。"))return;var i=e.target.files.length;t.rest=i;for(var s=0;s<i;s++){var l=e.target.files[s].webkitRelativePath,c=e.target.files[s],d="/".concat(l);t.$route.params.folderName&&(t.nowFolder.name=t.$route.params.folderName.replace(/~/g,"/"),d=t.nowFolder.name+"/".concat(l));var u=n["a"].storage().ref(d),f=u.put(c);f.on("state_changed",(function(e){t.isUploading=!0,t.runningValue=e.bytesTransferred/e.totalBytes*100,t.running=e.bytesTransferred,t.fileSize=e.totalBytes}),(function(t){alert(t)}),(function(){t.rest-=1,0==t.rest&&(t.$route.params.folderName?(t.nowFolder.name=t.$route.params.folderName.replace(/~/g,"/"),t.enterFolder(t.nowFolder.name)):t.getData())}))}}else{var m=e.target.files.length;t.rest=m;for(var p=0;p<m;p++){var h=e.target.files[p].webkitRelativePath,g=e.target.files[p],v="/".concat(h);t.$route.params.folderName&&(t.nowFolder.name=t.$route.params.folderName.replace(/~/g,"/"),v=t.nowFolder.name+"/".concat(h));var b=n["a"].storage().ref(v),w=b.put(g);w.on("state_changed",(function(e){t.isUploading=!0,t.runningValue=e.bytesTransferred/e.totalBytes*100,t.running=e.bytesTransferred,t.fileSize=e.totalBytes}),(function(t){alert(t)}),(function(){t.rest-=1,0==t.rest&&(t.$route.params.folderName?(t.nowFolder.name=t.$route.params.folderName.replace(/~/g,"/"),t.enterFolder(t.nowFolder.name)):t.getData())}))}}}))}))},changeShow:function(){var t=this;t.isUploading&&(t.isUploading=!1,t.showStorage=!1),t.showStorage=!t.showStorage},enterFolder:function(t){var e=this;t=t.replace(/\//g,"~"),e.$router.push("/folder/"+t).catch((function(t){console.log(t)})),e.dataKey+=1},leaveFolder:function(){this.nowFolder={name:"",file:[],folder:[]},this.isEnterFolder=!1,this.$router.push("/").catch((function(t){console.log(t)}))},clickDownload:function(t){this.$route.params.folderName&&(this.nowFolder.name=this.$route.params.folderName.replace(/~/g,"/"));var e=n["a"].storage().ref(this.nowFolder.name+"/"+t);e.getDownloadURL().then((function(t){fetch(t).then((function(t){return t.blob()})).then((function(t){var a=document.createElement("a"),r=window.URL.createObjectURL(t);a.href=r,a.download=e.fullPath,a.target="_blank",a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r)}))}))},clickDownloadFolder:function(t){var e=this,a=n["a"].storage().ref(t.fullPath);a.listAll().then((function(t){t.items.forEach((function(t){var e=n["a"].storage().ref(t.fullPath);e.getDownloadURL().then((function(e){fetch(e).then((function(t){return t.blob()})).then((function(e){var a=document.createElement("a"),r=window.URL.createObjectURL(e);a.href=r,a.download=t.fullPath,a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r)}))}))})),t.prefixes.length&&e.readDir(t.prefixes)})).catch((function(t){console.log(t)}))},clickTrash:function(t){confirm("是否要將 "+t.name+" 移至垃圾桶？")&&(t.isTrash=!0,this.trashFile.push(t),this.starFile.forEach((function(e){e.fullPath==t.fullPath&&(e.isTrash=!0)})),this.dataKey+=1)},clickTrashFolder:function(t){confirm("是否要將 "+t.name+" 移至垃圾桶？")&&(t.isTrash=!0,this.trashFolder.push(t),this.starFolder.forEach((function(e){e.fullPath==t.fullPath&&(e.isTrash=!0)})),this.dataKey+=1)},readDir:function(t){var e=this;t.forEach((function(t){var a=n["a"].storage().ref(t.fullPath);a.listAll().then((function(t){t.items.forEach((function(t){var e=n["a"].storage().ref(t.fullPath);e.getDownloadURL().then((function(e){fetch(e).then((function(t){return t.blob()})).then((function(e){var a=document.createElement("a"),r=window.URL.createObjectURL(e);a.href=r,a.download=t.fullPath,a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r)}))}))})),t.prefixes.length&&e.readDir(t.prefixes)}))}))},openReNameModal:function(t){g()("#rename-modal").modal("show"),this.item=t,this.oldName=t.fakeName},returnFolder:function(t){var e=this,a=e.folderLink.findIndex((function(e){return e==t}));if(a!=e.folderLink.length-1){var r=Array.from(e.folderLink);r.splice(a+1,e.folderLink.length-1),r=r.toString().replace(/,/g,"/"),e.enterFolder(r)}},toggleSidebar:function(){g()(".sidebar").fadeToggle()}},created:function(){this.getData()}},w=b,k=Object(c["a"])(w,m,p,!1,null,null,null),C=k.exports,F=f["a"].prototype.push;f["a"].prototype.push=function(t){return F.call(this,t).catch((function(t){return t}))},r["a"].use(f["a"]);var _=[{path:"/",name:"Home",component:C,children:[{path:"favorite",name:"Favorite",component:function(){return a.e("chunk-2d207472").then(a.bind(null,"a09f"))}},{path:"trash",name:"Trash",component:function(){return a.e("chunk-827904f8").then(a.bind(null,"27c8"))}},{path:"folder/:folderName",name:"Folder",component:function(){return a.e("chunk-2d21a9f2").then(a.bind(null,"bbfb"))}}]},{path:"/404",name:"404",component:function(){return a.e("chunk-d9aea0f4").then(a.bind(null,"8cdb"))}},{path:"*",component:function(){return a.e("chunk-d9aea0f4").then(a.bind(null,"8cdb"))},alias:"/404"}],y=new f["a"]({routes:_}),N=y;a("4989");r["a"].config.productionTip=!1;var x={apiKey:"AIzaSyAVY9kx81K4OYqOqjP5RumP9fwoMH1Sv3o",authDomain:"f2e-could.firebaseapp.com",projectId:"f2e-could",storageBucket:"f2e-could.appspot.com",messagingSenderId:"843526990354",appId:"1:843526990354:web:f81d9b13879305cab846cb"};n["a"].initializeApp(x),r["a"].filter("niceBytes",(function(t){var e=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=0,r=parseInt(t,10)||0;while(r>=1024&&++a)r/=1024;return r.toFixed(r<10&&a>0?1:0)+e[a]})),new r["a"]({router:N,render:function(t){return t(u)}}).$mount("#app")},5925:function(t,e,a){t.exports=a.p+"img/icon-star-fill.f5552aee.svg"},"5c0b":function(t,e,a){"use strict";a("9c0c")},8262:function(t,e,a){t.exports=a.p+"img/Cloud-monster.18120ba2.svg"},"8a7e":function(t,e,a){t.exports=a.p+"img/icon-star.7b48c8c2.svg"},"9c0c":function(t,e,a){},"9e68":function(t,e,a){t.exports=a.p+"img/icon-folder-share.a0120ed8.svg"},b68c:function(t,e,a){t.exports=a.p+"img/icon-more.aa4fe757.svg"},c8eb:function(t,e,a){t.exports=a.p+"img/icon-folder-upload.5a574911.svg"},c8fa:function(t,e,a){t.exports=a.p+"img/menu.5e620900.svg"},e347:function(t,e,a){t.exports=a.p+"img/logo.de223435.svg"},e79d:function(t,e,a){t.exports=a.p+"img/icon-file-upload.3e4b3956.svg"},e854:function(t,e,a){t.exports=a.p+"img/icon-search.efd7e3a4.svg"}});
//# sourceMappingURL=app.852e3daf.js.map