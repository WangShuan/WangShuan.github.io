(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab0cc"],{"142e":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return t.order.id?a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}},[a("div",{staticClass:"loadingio-spinner-spin-ur5grgaunp"},[a("div",{staticClass:"ldio-dwsbgiuamos"},[a("div",[a("div")]),a("div",[a("div")]),a("div",[a("div")]),a("div",[a("div")]),a("div",[a("div")]),a("div",[a("div")]),a("div",[a("div")]),a("div",[a("div")])])])]),a("div",{staticClass:"container mb-4 mt-md-5"},[a("div",[t._m(0),a("form",{staticClass:"row justify-content-md-center",on:{submit:function(s){return s.preventDefault(),t.payOrder(s)}}},[a("div",{staticClass:"col-lg-7"},[a("h5",{staticClass:"my-3"},[t._v("購物車內容")]),a("table",{staticClass:"table table-striped table-bordered text-dark"},[t._m(1),a("tbody",t._l(t.order.products,(function(s){return a("tr",{key:s.id},[a("td",{staticClass:"align-middle text-left"},[t._v(" "+t._s(s.product.title)+" ")]),a("td",{staticClass:"align-middle"},[t._v(" "+t._s(s.qty)+"/"+t._s(s.product.unit)+" ")]),a("td",{staticClass:"align-middle text-right"},[t._v(" "+t._s(t._f("dollarSign")(t._f("numFormat")(s.final_total)))+" ")])])})),0),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),a("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("dollarSign")(t._f("numFormat")(t.order.total)))+" ")])])])])]),a("div",{staticClass:"col-lg-5"},[a("h5",{staticClass:"my-3"},[t._v("收件人資料")]),a("div",{staticClass:"border list-bg p-3"},[a("table",{staticClass:"table text-dark m-0"},[a("tbody",[a("tr",[a("th",{staticClass:"border-0",attrs:{width:"120"}},[t._v("Email :")]),a("td",{staticClass:"border-0"},[t._v(t._s(t.order.user.email))])]),a("tr",[a("th",[t._v("姓名 :")]),a("td",[t._v(t._s(t.order.user.name))])]),a("tr",[a("th",[t._v("收件人電話 :")]),a("td",[t._v(t._s(t.order.user.tel))])]),a("tr",[a("th",[t._v("收件人地址 :")]),a("td",[t._v(t._s(t.order.user.address))])]),a("tr",[a("th",[t._v("付款狀態 :")]),a("td",{staticClass:"font-weight-bolder"},[t.order.is_paid?a("span",{staticClass:"text-dark"},[t._v("付款完成")]):a("i",{staticClass:"text-muted"},[t._v("尚未付款")])])])])])]),!1===t.order.is_paid?a("div",[a("button",{staticClass:"btn btn-dark my-3"},[t._v("確認付款")])]):t._e()])])])])],1):t._e()},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("h4",{staticClass:"my-3"},[a("i",{staticClass:"fa fa-check-square-o",attrs:{"aria-hidden":"true"}}),t._v(" 結帳確認 ")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("thead",[a("th",[t._v("品名")]),a("th",[t._v("數量")]),a("th",[t._v("單價")])])}],r=(a("99af"),{data:function(){return{order:{},orderId:"",isLoading:!1}},methods:{getOrder:function(){var t=this;t.isLoading=!0;var s="".concat("https://vue-course-api.hexschool.io/","api/").concat("wangxuan","/order/").concat(t.orderId);t.$http.get(s).then((function(s){s.data.success?t.order=s.data.order:t.$bus.$emit("message:push",s.data.message,"danger"),t.isLoading=!1}))},payOrder:function(){var t=this;t.isLoading=!0;var s="".concat("https://vue-course-api.hexschool.io/","api/").concat("wangxuan","/pay/").concat(t.orderId);t.$http.post(s).then((function(s){t.isLoading=!1,s.data.success?(t.$bus.$emit("message:push",s.data.message,"dark"),t.getOrder()):t.$bus.$emit("message:push",s.data.message,"danger")}))}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()}}),d=r,o=a("2877"),n=Object(o["a"])(d,e,i,!1,null,null,null);s["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2d0ab0cc.a594843e.js.map