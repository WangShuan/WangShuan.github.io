{"version":3,"sources":["webpack:///./src/views/frontend/Checkout.vue?4ff4","webpack:///./src/views/frontend/Checkout.vue?de22","webpack:///src/views/frontend/Checkout.vue","webpack:///./src/views/frontend/Checkout.vue?1b76","webpack:///./src/views/frontend/Checkout.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","order","attrs","isLoading","on","$event","_v","staticClass","preventDefault","payOrder","times","is_paid","_e","_m","_s","_f","total","class","h5","final_total","paymethods","_l","item","key","id","product","imageUrl","title","price","qty","step","user","email","name","tel","address","directives","rawName","value","expression","domProps","_q","$router","push","staticRenderFns","data","orderId","card","num","mm","yy","methods","getOrder","vm","$http","get","api","then","res","success","$bus","$emit","message","post","created","$route","params","watch","component"],"mappings":"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","file":"js/chunk-63f5bb68.91ee43e4.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=style&index=0&id=bc24b4b0&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.order.id)?_c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}},[_c('h4',[_vm._v(\"載入中 請稍候...\")])]),_c('div',{staticClass:\"container text-dark\"},[_c('div',{staticClass:\"my-3\"},[_c('h4',{staticClass:\"my-3\"},[_vm._v(\"結帳\")]),_c('form',{staticClass:\"row justify-content-md-center\",on:{\"submit\":function($event){$event.preventDefault();return _vm.payOrder(_vm.times)}}},[(!_vm.order.is_paid)?_c('div',{staticClass:\"col-lg-4 col-md-6\"},[_c('div',{staticClass:\"border p-3 mb-3\"},[_vm._m(0),_c('h6',[_c('div',{staticClass:\"float-left\"},[_vm._v(\"小計：\")]),_c('div',{staticClass:\"float-right\"},[_vm._v(\"NT$ \"+_vm._s(_vm._f(\"numFormat\")(_vm.order.total)))])]),_c('br'),_vm._m(1),_c('h4',{staticClass:\"mt-5 border-top py-3\",class:{ h5: _vm.order.final_total !== _vm.order.total }},[_c('div',{staticClass:\"float-left\"},[_vm._v(\"總計\")]),_c('div',{staticClass:\"float-right\"},[_vm._v(\"NT$ \"+_vm._s(_vm._f(\"numFormat\")(_vm.order.total)))])]),(_vm.paymethods === '2' && _vm.order.is_paid)?_c('h3',{staticClass:\"bg-dark text-light p-2 my-3\"},[_vm._v(\" 請於三日內完成匯款🙏 \")]):(_vm.paymethods === '1' && _vm.order.is_paid)?_c('h3',{staticClass:\"bg-dark text-light p-2 my-3\"},[_vm._v(\" 已完成結帳手續😊 \")]):_vm._e()]),_c('div',{staticClass:\"border p-3\"},[_vm._m(2),_c('hr'),_c('table',{staticClass:\"table table-borderless text-dark\"},[_c('tbody',_vm._l((_vm.order.products),function(item){return _c('tr',{key:item.id},[_c('th',[_c('img',{staticClass:\"cart-img\",attrs:{\"src\":item.product.imageUrl,\"alt\":item.product.title}})]),_c('td',{staticClass:\"text-left\"},[_c('p',[_vm._v(\" \"+_vm._s(item.product.title)+\" \"),_c('br'),_c('span',{staticClass:\"text-muted\"},[_vm._v(\" NT$\"+_vm._s(item.product.price)+\" \")]),_vm._v(\" x \"+_vm._s(item.qty)+\" \")])])])}),0)])])]):_vm._e(),_c('div',{staticClass:\"col-lg-8 col-md-6\"},[_c('div',{staticClass:\"p-2\"},[_vm._m(3),_c('div',{staticClass:\"progress mx-lg-5\"},[_c('div',{staticClass:\"progress-bar\",class:_vm.step})]),(_vm.times === 1)?_c('div',{staticClass:\"my-3\"},[_c('div',{staticClass:\"border p-3 mx-lg-5\"},[_c('h5',{staticClass:\"my-3\"},[_vm._v(\"收件人資料\")]),_c('table',{staticClass:\"table text-dark m-0\"},[_c('tbody',[_c('tr',[_c('th',{staticClass:\"border-0\",attrs:{\"width\":\"120\"}},[_vm._v(\"Email :\")]),_c('td',{staticClass:\"border-0\",attrs:{\"width\":\"\"}},[_vm._v(_vm._s(_vm.order.user.email))])]),_c('tr',[_c('th',[_vm._v(\"姓名 :\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.name))])]),_c('tr',[_c('th',[_vm._v(\"收件人電話 :\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.tel))])]),_c('tr',[_c('th',[_vm._v(\"收件人地址 :\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.address))])])])])])]):(_vm.times === 2)?_c('div',{staticClass:\"my-3\"},[_c('div',{staticClass:\"border p-3 mx-lg-5\"},[_c('h5',{staticClass:\"my-3\"},[_vm._v(\"付款方式\")]),_c('div',{staticClass:\"my-3\"},[_c('div',{staticClass:\"custom-control custom-radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.paymethods),expression:\"paymethods\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"getandpay\",\"name\":\"paymentMethod\",\"type\":\"radio\",\"required\":\"\",\"value\":\"1\"},domProps:{\"checked\":_vm._q(_vm.paymethods,\"1\")},on:{\"change\":function($event){_vm.paymethods=\"1\"}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"getandpay\"}},[_vm._v(\" 取貨付款 \")])]),_c('div',{staticClass:\"custom-control custom-radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.paymethods),expression:\"paymethods\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"transfer\",\"name\":\"paymentMethod\",\"type\":\"radio\",\"required\":\"\",\"value\":\"2\"},domProps:{\"checked\":_vm._q(_vm.paymethods,\"2\")},on:{\"change\":function($event){_vm.paymethods=\"2\"}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"transfer\"}},[_vm._v(\" 銀行轉帳 \")])])]),_c('div',{staticClass:\"bank\",class:{ 'd-none': _vm.paymethods === '1' }},[_c('p',{staticClass:\"my-3\"},[_vm._v(\"ATM 轉帳繳款資料如下\")]),_vm._m(4)])])]):_vm._e(),_c('div',{staticClass:\"my-3 px-lg-5 down\",class:{ 'd-none': _vm.times !== 3 }},[(_vm.order.is_paid)?_c('h3',{staticClass:\"my-4 text-success\"},[_vm._v(\" ☑️ 結帳成功 \")]):_vm._e(),_c('table',{staticClass:\"table table-striped text-dark m-0\"},[_c('tbody',[_c('tr',[_c('th',[_vm._v(\"姓名 :\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.name))])]),_c('tr',[_c('th',[_vm._v(\"收件人電話 :\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.tel))])]),_c('tr',[_c('th',[_vm._v(\"收件人地址 :\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.address))])]),_c('tr',[_c('th',[_vm._v(\" 購買品項 : \")]),_c('td',_vm._l((_vm.order.products),function(item){return _c('span',{key:item.id},[_vm._v(\" \"+_vm._s(item.product.title)+\" x \"+_vm._s(item.qty)+\" \"),_c('br')])}),0)]),_c('tr',[_c('th',[_vm._v(\"付款方式 :\")]),(_vm.paymethods === '1')?_c('td',[_vm._v(\"貨到付款\")]):(_vm.paymethods === '2')?_c('td',[_vm._v(\"ATM 匯款\")]):_vm._e()]),_c('tr',[_c('th',[_vm._v(\"付款狀態 :\")]),(_vm.paymethods === '1' && _vm.order.is_paid)?_c('td',{staticClass:\"text-muted\"},[_vm._v(\" 已選擇貨到付款 \")]):(_vm.paymethods === '2' && _vm.order.is_paid)?_c('td',{staticClass:\"text-muted\"},[_vm._v(\" 已選擇ATM 匯款 \")]):_vm._e(),(_vm.order.is_paid === false)?_c('td',{staticClass:\"text-muted\"},[_c('i',[_vm._v(\"等待付款中\")])]):_vm._e()])])])]),(_vm.times !== 3)?_c('button',{staticClass:\"btn btn-dark my-3\"},[_vm._v(\" 下一步 \")]):_vm._e(),(_vm.times === 3)?_c('button',{staticClass:\"btn btn-dark my-3\",on:{\"click\":function($event){return _vm.$router.push('/products/all')}}},[_vm._v(\" 再去逛逛 \")]):_vm._e()])])])])])],1):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h5',{staticClass:\"mb-4\"},[_c('i',{staticClass:\"fa fa-pencil\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" 訂單摘要 \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h6',[_c('div',{staticClass:\"float-left\"},[_vm._v(\" 運費 \"),_c('i',{staticClass:\"small text-muted\"},[_vm._v(\"(週年慶 - 免運費)\")]),_vm._v(\" ： \")]),_c('div',{staticClass:\"float-right\"},[_c('del',{staticClass:\"text-secondary mr-2\"},[_vm._v(\"NT$ 200\")]),_vm._v(\" NT$ 0 \")]),_c('br')])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h5',{staticClass:\"mb-3\"},[_c('i',{staticClass:\"fa fa-list-ol\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" 購物車內容 \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row my-3 text-muted\"},[_c('div',{staticClass:\"col-4\"},[_vm._v(\"1.確認資料\")]),_c('div',{staticClass:\"col-4\"},[_vm._v(\"2.付款方式\")]),_c('div',{staticClass:\"col-4\"},[_vm._v(\"3.完成\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table',{staticClass:\"table table-striped table-bordered text-dark\"},[_c('tbody',[_c('tr',[_c('th',[_vm._v(\"◆ 銀行名稱：\")]),_c('td',[_vm._v(\"012 台北富邦銀行\")])]),_c('tr',[_c('th',[_vm._v(\"◆ 戶 名：\")]),_c('td',[_vm._v(\"拼圖迷股份有限公司\")])]),_c('tr',[_c('th',[_vm._v(\"◆ 帳 號：\")]),_c('td',[_vm._v(\"123-321-123456-7\")])])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"order.id\">\n    <loading :active.sync=\"isLoading\">\n      <h4>載入中 請稍候...</h4>\n    </loading>\n    <div class=\"container text-dark\">\n      <div class=\"my-3\">\n        <h4 class=\"my-3\">結帳</h4>\n        <form\n          class=\"row justify-content-md-center\"\n          @submit.prevent=\"payOrder(times)\"\n        >\n          <div class=\"col-lg-4 col-md-6\" v-if=\"!order.is_paid\">\n            <div class=\"border p-3 mb-3\">\n              <h5 class=\"mb-4\">\n                <i class=\"fa fa-pencil\" aria-hidden=\"true\"></i>\n                訂單摘要\n              </h5>\n              <h6>\n                <div class=\"float-left\">小計：</div>\n                <div class=\"float-right\">NT$ {{ order.total | numFormat }}</div>\n              </h6>\n              <br />\n              <h6>\n                <div class=\"float-left\">\n                  運費\n                  <i class=\"small text-muted\">(週年慶 - 免運費)</i> ：\n                </div>\n                <div class=\"float-right\">\n                  <del class=\"text-secondary mr-2\">NT$ 200</del> NT$ 0\n                </div>\n                <br />\n              </h6>\n              <h4\n                class=\"mt-5 border-top py-3\"\n                :class=\"{ h5: order.final_total !== order.total }\"\n              >\n                <div class=\"float-left\">總計</div>\n                <div class=\"float-right\">NT$ {{ order.total | numFormat }}</div>\n              </h4>\n              <h3\n                v-if=\"paymethods === '2' && order.is_paid\"\n                class=\"bg-dark text-light p-2 my-3\"\n              >\n                請於三日內完成匯款🙏\n              </h3>\n              <h3\n                v-else-if=\"paymethods === '1' && order.is_paid\"\n                class=\"bg-dark text-light p-2 my-3\"\n              >\n                已完成結帳手續😊\n              </h3>\n            </div>\n            <div class=\"border p-3\">\n              <h5 class=\"mb-3\">\n                <i class=\"fa fa-list-ol\" aria-hidden=\"true\"></i>\n                購物車內容\n              </h5>\n              <hr />\n              <table class=\"table table-borderless text-dark\">\n                <tbody>\n                  <tr v-for=\"item in order.products\" :key=\"item.id\">\n                    <th>\n                      <img\n                        class=\"cart-img\"\n                        :src=\"item.product.imageUrl\"\n                        :alt=\"item.product.title\"\n                      />\n                    </th>\n                    <td class=\"text-left\">\n                      <p>\n                        {{ item.product.title }}\n                        <br />\n                        <span class=\"text-muted\">\n                          NT${{ item.product.price }}\n                        </span>\n                        x\n                        {{ item.qty }}\n                      </p>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div class=\"col-lg-8 col-md-6\">\n            <div class=\"p-2\">\n              <div class=\"row my-3 text-muted\">\n                <div class=\"col-4\">1.確認資料</div>\n                <div class=\"col-4\">2.付款方式</div>\n                <div class=\"col-4\">3.完成</div>\n              </div>\n              <div class=\"progress mx-lg-5\">\n                <div class=\"progress-bar\" :class=\"step\"></div>\n              </div>\n              <div v-if=\"times === 1\" class=\"my-3\">\n                <div class=\"border p-3 mx-lg-5\">\n                  <h5 class=\"my-3\">收件人資料</h5>\n                  <table class=\"table text-dark m-0\">\n                    <tbody>\n                      <tr>\n                        <th class=\"border-0\" width=\"120\">Email :</th>\n                        <td class=\"border-0\" width>{{ order.user.email }}</td>\n                      </tr>\n                      <tr>\n                        <th>姓名 :</th>\n                        <td>{{ order.user.name }}</td>\n                      </tr>\n                      <tr>\n                        <th>收件人電話 :</th>\n                        <td>{{ order.user.tel }}</td>\n                      </tr>\n                      <tr>\n                        <th>收件人地址 :</th>\n                        <td>{{ order.user.address }}</td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n              <div v-else-if=\"times === 2\" class=\"my-3\">\n                <div class=\"border p-3 mx-lg-5\">\n                  <h5 class=\"my-3\">付款方式</h5>\n                  <div class=\"my-3\">\n                    <div class=\"custom-control custom-radio\">\n                      <input\n                        id=\"getandpay\"\n                        name=\"paymentMethod\"\n                        type=\"radio\"\n                        class=\"custom-control-input\"\n                        required\n                        value=\"1\"\n                        v-model=\"paymethods\"\n                      />\n                      <label class=\"custom-control-label\" for=\"getandpay\">\n                        取貨付款\n                      </label>\n                    </div>\n                    <div class=\"custom-control custom-radio\">\n                      <input\n                        id=\"transfer\"\n                        name=\"paymentMethod\"\n                        type=\"radio\"\n                        class=\"custom-control-input\"\n                        required\n                        v-model=\"paymethods\"\n                        value=\"2\"\n                      />\n                      <label class=\"custom-control-label\" for=\"transfer\">\n                        銀行轉帳\n                      </label>\n                    </div>\n                  </div>\n                  <div class=\"bank\" :class=\"{ 'd-none': paymethods === '1' }\">\n                    <p class=\"my-3\">ATM 轉帳繳款資料如下</p>\n                    <table class=\"table table-striped table-bordered text-dark\">\n                      <tbody>\n                        <tr>\n                          <th>◆ 銀行名稱：</th>\n                          <td>012 台北富邦銀行</td>\n                        </tr>\n                        <tr>\n                          <th>◆ 戶 名：</th>\n                          <td>拼圖迷股份有限公司</td>\n                        </tr>\n                        <tr>\n                          <th>◆ 帳 號：</th>\n                          <td>123-321-123456-7</td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n              <div class=\"my-3 px-lg-5 down\" :class=\"{ 'd-none': times !== 3 }\">\n                <h3 v-if=\"order.is_paid\" class=\"my-4 text-success\">\n                  ☑️ 結帳成功\n                </h3>\n                <table class=\"table table-striped text-dark m-0\">\n                  <tbody>\n                    <tr>\n                      <th>姓名 :</th>\n                      <td>{{ order.user.name }}</td>\n                    </tr>\n                    <tr>\n                      <th>收件人電話 :</th>\n                      <td>{{ order.user.tel }}</td>\n                    </tr>\n                    <tr>\n                      <th>收件人地址 :</th>\n                      <td>{{ order.user.address }}</td>\n                    </tr>\n                    <tr>\n                      <th>\n                        購買品項 :\n                      </th>\n                      <td>\n                        <span v-for=\"item in order.products\" :key=\"item.id\">\n                          {{ item.product.title }} x {{ item.qty }}\n                          <br />\n                        </span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <th>付款方式 :</th>\n                      <td v-if=\"paymethods === '1'\">貨到付款</td>\n                      <td v-else-if=\"paymethods === '2'\">ATM 匯款</td>\n                    </tr>\n                    <tr>\n                      <th>付款狀態 :</th>\n                      <td\n                        class=\"text-muted\"\n                        v-if=\"paymethods === '1' && order.is_paid\"\n                      >\n                        已選擇貨到付款\n                      </td>\n                      <td\n                        class=\"text-muted\"\n                        v-else-if=\"paymethods === '2' && order.is_paid\"\n                      >\n                        已選擇ATM 匯款\n                      </td>\n                      <td class=\"text-muted\" v-if=\"order.is_paid === false\">\n                        <i>等待付款中</i>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n              <button v-if=\"times !== 3\" class=\"btn btn-dark my-3\">\n                下一步\n              </button>\n              <button\n                v-if=\"times === 3\"\n                class=\"btn btn-dark my-3\"\n                @click=\"$router.push('/products/all')\"\n              >\n                再去逛逛\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery'\n\nexport default {\n  data () {\n    return {\n      order: {},\n      orderId: '',\n      isLoading: false,\n      step: {\n        'w-50': false,\n        'w-100': false\n      },\n      times: 1,\n      paymethods: '1',\n      card: {\n        name: '',\n        num: '',\n        key: '',\n        mm: '',\n        yy: ''\n      }\n    }\n  },\n  methods: {\n    getOrder () {\n      const vm = this\n      vm.isLoading = true\n      const api = `${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_MYPATH}/order/${vm.orderId}`\n      vm.$http.get(api).then((res) => {\n        vm.isLoading = false\n        if (res.data.success) {\n          vm.order = res.data.order\n          if (vm.order.is_paid) {\n            vm.times = 3\n            vm.step['w-100'] = true\n          }\n        } else {\n          vm.$bus.$emit('message:push', res.data.message, 'danger')\n        }\n      })\n    },\n    payOrder (times) {\n      const vm = this\n      vm.isLoading = true\n      vm.times++\n      if (times === 1) {\n        vm.step['w-50'] = true\n      } else if (times === 2) {\n        vm.step['w-100'] = true\n        const api = `${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_MYPATH}/pay/${vm.orderId}`\n        vm.$http.post(api).then((res) => {\n          if (res.data.success) {\n            vm.$bus.$emit('message:push', '結帳確認完成', 'dark')\n            vm.getOrder()\n            $('.down').show()\n          } else {\n            vm.$bus.$emit('message:push', res.data.message, 'danger')\n          }\n        })\n      }\n      vm.isLoading = false\n    }\n  },\n  created () {\n    this.orderId = this.$route.params.orderId\n    this.getOrder()\n  },\n  watch: {\n    paymethods: function () {\n      const vm = this\n      if (vm.paymethods === '1') {\n        $('.bank').hide()\n      } else if (vm.paymethods === '2') {\n        $('.bank').show()\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.cart-img {\n  width: 100px;\n}\n\np {\n  margin: 5px;\n  font-size: 16px;\n  line-height: 32px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Checkout.vue?vue&type=template&id=bc24b4b0&scoped=true&\"\nimport script from \"./Checkout.vue?vue&type=script&lang=js&\"\nexport * from \"./Checkout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Checkout.vue?vue&type=style&index=0&id=bc24b4b0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bc24b4b0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}