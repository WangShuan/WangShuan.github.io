(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4655cf1d"],{"168c":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"text-dark"},[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[s("div",{staticClass:"loadingio-spinner-spin-ur5grgaunp"},[s("div",{staticClass:"ldio-dwsbgiuamos"},[s("div",[s("div")]),s("div",[s("div")]),s("div",[s("div")]),s("div",[s("div")]),s("div",[s("div")]),s("div",[s("div")]),s("div",[s("div")]),s("div",[s("div")])])])]),s("div",[t._m(0),s("table",{staticClass:"table lg table-striped table-bordered mt-4 text-dark"},[t._m(1),s("tbody",t._l(t.orders,(function(a){return s("tr",{key:a.id},[s("td",[t._v(" "+t._s(a.id)+" "),s("br"),s("i",{staticClass:"text-muted small"},[t._v(" 成立於: "+t._s(new Date(1e3*a.create_at).toLocaleDateString())+" ")])]),s("td",{class:{"text-muted":!a.is_paid}},[t._v(" "+t._s(t._f("dollarSign")(t._f("numFormat")(a.total)))+" / "),a.is_paid?s("b",[t._v(" 已付款")]):s("i",[t._v(" 未付款")])]),s("td",[s("button",{staticClass:"btn btn-dark btn-sm",on:{click:function(s){return t.openModal(a)}}},[t._v("查看購買項目")])])])})),0)])]),s("div",{staticClass:"sm"},[t._m(2),s("table",{staticClass:"table table-striped table-bordered text-dark"},[t._m(3),s("tbody",t._l(t.orders,(function(a){return s("tr",{key:a.id},[s("td",[s("button",{staticClass:"btn btn-sm btn-outline-dark border-0",on:{click:function(s){return t.openModal(a)}}},[t._v(" "+t._s(a.id)+" ")])]),s("td",{staticClass:"text-dark",class:{"text-muted":!1===a.is_paid}},[a.is_paid?s("span",[t._v("☑️ 已付款")]):s("span",[t._v("✖️ 未付款")]),s("br"),t._v(" "+t._s(t._f("dollarSign")(t._f("numFormat")(a.total)))+" ")])])})),0)])]),s("Pagination",{attrs:{pages:t.pagination},on:{event:t.getOrders}}),s("div",{staticClass:"modal fade",attrs:{id:"orderModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[s("div",{staticClass:"modal-content border-0"},[t._m(4),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-10 mx-auto my-2"},[s("div",{staticClass:"text-muted"},[t._v("訂單編號:")]),s("div",[t._v(t._s(t.order.id))])]),s("div",{staticClass:"col-10 mx-auto my-2"},[s("div",{staticClass:"text-muted"},[t._v("成立時間:")]),s("i",[t._v(" "+t._s(new Date(1e3*t.order.create_at).toLocaleDateString())+" ")])]),s("div",{staticClass:"col-12 my-2"},[s("div",{staticClass:"text-muted"},[t._v("購買清單:")]),t._l(t.order.products,(function(a){return s("div",{key:a.id,staticClass:"w-75 mx-auto"},[t._v(" "+t._s(a.product.title)+" "+t._s(t._f("dollarSign")(t._f("numFormat")(a.product.price)))+" x "+t._s(a.qty)+t._s(a.product.unit)+" ")])}))],2),s("div",{staticClass:"col-10 mx-auto my-2"},[s("div",{staticClass:"text-muted"},[t._v("付款狀態:")]),s("div",{staticClass:"text-dark",class:{"text-muted":!1===t.order.is_paid}},[t.order.is_paid?s("b",[t._v("已付款")]):s("i",[t._v("未付款")]),t._v(" "+t._s(t._f("dollarSign")(t._f("numFormat")(t.order.total)))+" ")])])])]),t._m(5)])])])],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"mt-5 lg"},[s("div",{staticClass:"float-left"},[s("h4",{staticClass:"mt-3 font-weight-bold"},[s("i",{staticClass:"fa fa-list-ol",attrs:{"aria-hidden":"true"}}),t._v(" 訂單管理 ")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("訂單編號")]),s("th",{attrs:{scope:"col"}},[t._v("付款狀態")]),s("th",{attrs:{scope:"col"}},[t._v("操作")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"float-left"},[s("h5",{staticClass:"mb-3 font-weight-bold"},[s("i",{staticClass:"fa fa-list-ol"}),t._v(" 訂單管理 ")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("訂單編號 - click to see more")]),s("th",{attrs:{scope:"col"}},[t._v("付款狀態")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-header bg-dark text-white"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[s("span",[t._v("訂單明細")])]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{staticClass:"text-light",attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 確定 ")])])}],n=(s("99af"),s("1799")),r=s("1157"),d=s.n(r),o={data:function(){return{orders:[],pagination:{},isLoading:!1,order:{}}},methods:{getOrders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this;a.isLoading=!0;var s="".concat("https://vue-course-api.hexschool.io/","api/").concat("wangxuan","/admin/orders?page=").concat(t);a.$http.get(s).then((function(t){a.isLoading=!1,t.data.success?(a.orders=t.data.orders,a.pagination=t.data.pagination):a.$bus.$emit("message:push",t.data.message,"danger")}))},copy:function(t){t.currentTarget.select(),document.execCommand("Copy"),this.$bus.$emit("message:push","複製成功","dark")},openModal:function(t){this.order=t,d()("#orderModal").modal("show")}},created:function(){this.getOrders()},components:{Pagination:n["a"]}},l=o,c=(s("2d79"),s("2877")),u=Object(c["a"])(l,e,i,!1,null,"b58b8b7c",null);a["default"]=u.exports},1799:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("nav",{attrs:{"aria-label":"Page navigation"}},[s("ul",{staticClass:"pagination justify-content-center"},[s("li",{staticClass:"page-item",class:{disabled:!t.pages.has_pre}},[s("a",{staticClass:"page-link text-secondary",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.getPages(t.pages.current_page-1)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pages.total_pages,(function(a){return s("li",{key:a,staticClass:"page-item"},[s("a",{staticClass:"page-link text-secondary",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.getPages(a)}}},[t._v(" "+t._s(a)+" ")])])})),s("li",{staticClass:"page-item",class:{disabled:!t.pages.has_next}},[s("a",{staticClass:"page-link text-secondary",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.getPages(t.pages.current_page+1)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},i=[],n={data:function(){return{}},props:["pages"],methods:{getPages:function(t){this.$emit("event",t)}}},r=n,d=s("2877"),o=Object(d["a"])(r,e,i,!1,null,null,null);a["a"]=o.exports},2403:function(t,a,s){},"2d79":function(t,a,s){"use strict";s("2403")}}]);
//# sourceMappingURL=chunk-4655cf1d.b988fcbb.js.map