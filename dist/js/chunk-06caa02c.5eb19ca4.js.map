{"version":3,"sources":["webpack:///./src/components/Pagination.vue?e18d","webpack:///src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?b5ee","webpack:///./src/components/Pagination.vue","webpack:///./src/views/frontend/Products.vue?c8fc","webpack:///./src/components/CategoryList.vue?10ec","webpack:///src/components/CategoryList.vue","webpack:///./src/components/CategoryList.vue?f2f2","webpack:///./src/components/CategoryList.vue","webpack:///src/views/frontend/Products.vue","webpack:///./src/views/frontend/Products.vue?d1b1","webpack:///./src/views/frontend/Products.vue","webpack:///./src/views/frontend/Products.vue?5177"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","class","disabled","pages","has_pre","on","$event","preventDefault","getPages","current_page","_v","_l","item","key","_s","has_next","staticRenderFns","data","props","methods","$emit","num","component","isLoading","categories","active","getProducts","name","title","path","id","$router","push","style","backgroundImage","imageUrl","image","category","content","price","_e","origin_price","pagination","getPage","products","components","watch","document","body","scrollTop","documentElement","vm","catch","$http","get","api","then","res","success","filter","$bus","message","getProduct","getCategory","arr","temCategory","forEach","unshift","i","arr2","length","j","created"],"mappings":"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","file":"js/chunk-06caa02c.5eb19ca4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{attrs:{\"aria-label\":\"Page navigation\"}},[_c('ul',{staticClass:\"pagination justify-content-center\"},[_c('li',{staticClass:\"page-item\",class:{ disabled: !_vm.pages.has_pre }},[_c('a',{staticClass:\"page-link text-secondary\",attrs:{\"href\":\"#\",\"aria-label\":\"Previous\"},on:{\"click\":function($event){$event.preventDefault();return _vm.getPages(_vm.pages.current_page - 1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"«\")])])]),_vm._l((_vm.pages.total_pages),function(item){return _c('li',{key:item,staticClass:\"page-item\"},[_c('a',{staticClass:\"page-link text-secondary\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.getPages(item)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])])}),_c('li',{staticClass:\"page-item\",class:{ disabled: !_vm.pages.has_next }},[_c('a',{staticClass:\"page-link text-secondary\",attrs:{\"href\":\"#\",\"aria-label\":\"Next\"},on:{\"click\":function($event){$event.preventDefault();return _vm.getPages(_vm.pages.current_page + 1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"»\")])])])],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <nav aria-label=\"Page navigation\">\n      <ul class=\"pagination justify-content-center\">\n        <li class=\"page-item\" :class=\"{ disabled: !pages.has_pre }\">\n          <a\n            class=\"page-link text-secondary\"\n            href=\"#\"\n            @click.prevent=\"getPages(pages.current_page - 1)\"\n            aria-label=\"Previous\"\n          >\n            <span aria-hidden=\"true\">&laquo;</span>\n          </a>\n        </li>\n        <li class=\"page-item\" v-for=\"item in pages.total_pages\" :key=\"item\">\n          <a\n            class=\"page-link text-secondary\"\n            href=\"#\"\n            @click.prevent=\"getPages(item)\"\n          >\n            {{ item }}\n          </a>\n        </li>\n        <li class=\"page-item\" :class=\"{ disabled: !pages.has_next }\">\n          <a\n            class=\"page-link text-secondary\"\n            href=\"#\"\n            @click.prevent=\"getPages(pages.current_page + 1)\"\n            aria-label=\"Next\"\n          >\n            <span aria-hidden=\"true\">&raquo;</span>\n          </a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n</template>\n<script>\nexport default {\n  data () {\n    return {}\n  },\n  props: ['pages'],\n  methods: {\n    getPages (num) {\n      this.$emit('event', num)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=be69c6f8&\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}},[_c('h4',[_vm._v(\"載入中 請稍候...\")])]),_c('div',{staticClass:\"row mb-3\"},[_c('CategoryList',{staticClass:\"lg col-lg-3\",attrs:{\"categories\":_vm.categories,\"active\":_vm.active},on:{\"getProducts\":_vm.getProducts}}),_c('div',{staticClass:\"col-lg-9\"},[_c('h4',{staticClass:\"my-lg-4 mt-4 text-left\"},[_vm._v(\"商品列表\")]),_c('div',{staticClass:\"dropdown sm md\"},[_vm._v(\" 當前商品類別： \"),_c('button',{staticClass:\"btn btn-sm border-dark mb-1 dropdown-toggle\",attrs:{\"type\":\"button\",\"id\":\"dropdownMenuButton\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"}},[_vm._v(\" \"+_vm._s(_vm.active.name)+\" \")]),_c('div',{staticClass:\"dropdown-menu\",attrs:{\"aria-labelledby\":\"dropdownMenuButton\"}},_vm._l((_vm.categories),function(item){return _c('a',{key:item.title,staticClass:\"dropdown-item\",class:{ active: item.title === _vm.active.name },attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.getProducts(item.path)}}},[_vm._v(\" \"+_vm._s(item.title)+\" \")])}),0)]),_c('div',{staticClass:\"row\"},_vm._l((_vm.products),function(item){return _c('div',{key:item.id,staticClass:\"col-md-4\"},[_c('div',{staticClass:\"card my-2\",on:{\"click\":function($event){return _vm.$router.push((\"/product/\" + (item.id)))}}},[_c('div',{staticClass:\"card-img\",style:({\n                backgroundImage: (\"url(\" + (item.imageUrl || item.image) + \")\")\n              })}),_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(\" \"+_vm._s(item.title)+\" \"),_c('br'),_c('small',[_c('span',{staticClass:\"badge badge-secondary\"},[_vm._v(\" \"+_vm._s(item.category)+\" \")])])]),_vm._v(\" \"+_vm._s(item.content)+\" \"),_c('div',{staticClass:\"mt-2\"},[(!item.price)?_c('div',{staticClass:\"h5\"},[_vm._v(\" \"+_vm._s(item.origin_price)+\" 元 \")]):_vm._e(),(item.price)?_c('del',{staticClass:\"text-muted\"},[_vm._v(\" 原價 \"+_vm._s(item.origin_price)+\" 元 \")]):_vm._e(),(item.price)?_c('div',{staticClass:\"h5\"},[_vm._v(\" 現在只要 \"+_vm._s(item.price)+\" 元 \")]):_vm._e()])])])])}),0),(_vm.active.path === 'all')?_c('Pagination',{attrs:{\"pages\":_vm.pagination},on:{\"event\":_vm.getPage}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md pr-0\"},[_c('h4',{staticClass:\"my-4 text-left lg\"},[_vm._v(\"商品分類\")]),_c('ul',{staticClass:\"p-0 m-0\"},_vm._l((_vm.categories),function(item){return _c('li',{key:item.title,staticClass:\"list-group-item d-flex justify-content-between align-items-center\",class:{ 'bg-secondary text-light': item.title === _vm.active.name },on:{\"click\":function($event){return _vm.getProducts(item.path)}}},[_vm._v(\" \"+_vm._s(item.title)+\" \"),_c('span',{staticClass:\"badge badge-secondary badge-pill\"},[_vm._v(_vm._s(item.num))])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"col-md pr-0\">\n    <h4 class=\"my-4 text-left lg\">商品分類</h4>\n    <ul class=\"p-0 m-0\">\n      <li\n        class=\"list-group-item d-flex justify-content-between align-items-center\"\n        v-for=\"item in categories\"\n        :key=\"item.title\"\n        :class=\"{ 'bg-secondary text-light': item.title === active.name }\"\n        @click=\"getProducts(item.path)\"\n      >\n        {{ item.title }}\n        <span class=\"badge badge-secondary badge-pill\">{{ item.num }}</span>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {}\n  },\n  props: ['categories', 'active'],\n  methods: {\n    getProducts (item) {\n      this.$emit('getProducts', item)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CategoryList.vue?vue&type=template&id=1d847e38&\"\nimport script from \"./CategoryList.vue?vue&type=script&lang=js&\"\nexport * from \"./CategoryList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"container\">\n    <loading :active.sync=\"isLoading\">\n      <h4>載入中 請稍候...</h4>\n    </loading>\n\n    <div class=\"row mb-3\">\n      <CategoryList\n        class=\"lg col-lg-3\"\n        :categories=\"categories\"\n        :active=\"active\"\n        @getProducts=\"getProducts\"\n      ></CategoryList>\n\n      <div class=\"col-lg-9\">\n        <h4 class=\"my-lg-4 mt-4 text-left\">商品列表</h4>\n        <div class=\"dropdown sm md\">\n          當前商品類別：\n          <button class=\"btn btn-sm border-dark mb-1 dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n            {{ active.name }}\n          </button>\n          <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n            <a\n              v-for=\"item in categories\"\n              href=\"#\"\n              :key=\"item.title\"\n              :class=\"{ active: item.title === active.name }\"\n              @click.prevent=\"getProducts(item.path)\"\n              class=\"dropdown-item\"\n            >\n              {{ item.title }}\n            </a>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-md-4\" v-for=\"item in products\" :key=\"item.id\">\n            <div class=\"card my-2\"\n                @click=\"$router.push(`/product/${item.id}`)\"\n            >\n              <div\n                class=\"card-img\"\n                :style=\"{\n                  backgroundImage: `url(${item.imageUrl || item.image})`\n                }\"\n              ></div>\n              <div class=\"card-body\">\n                <h5 class=\"card-title\">\n                  {{ item.title }}\n                  <br />\n                  <small>\n                    <span class=\"badge badge-secondary\">\n                      {{ item.category }}\n                    </span>\n                  </small>\n                </h5>\n                {{ item.content }}\n                <div class=\"mt-2\">\n                  <div class=\"h5\" v-if=\"!item.price\">\n                    {{ item.origin_price }} 元\n                  </div>\n                  <del class=\"text-muted\" v-if=\"item.price\">\n                    原價 {{ item.origin_price }} 元\n                  </del>\n\n                  <div class=\"h5\" v-if=\"item.price\">\n                    現在只要 {{ item.price }} 元\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <Pagination\n          v-if=\"active.path === 'all'\"\n          :pages=\"pagination\"\n          @event=\"getPage\"\n        ></Pagination>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination'\nimport CategoryList from '@/components/CategoryList'\n\nexport default {\n  data () {\n    return {\n      isLoading: false,\n      products: [],\n      categories: [],\n      active: { name: '', path: '' },\n      pagination: {}\n    }\n  },\n  components: { Pagination, CategoryList },\n  watch: {\n    products: () => {\n      document.body.scrollTop = 0\n      document.documentElement.scrollTop = 0\n    }\n  },\n  methods: {\n    getProducts (category = this.$route.params.category) {\n      const vm = this\n      vm.isLoading = true\n      vm.$router.push('/products/' + category).catch((err) => err)\n      vm.active.path = category\n      const api = `${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_MYPATH}/products/all`\n      vm.$http.get(api).then((res) => {\n        if (res.data.success) {\n          if (category === 'all') {\n            vm.getPage()\n            vm.active.name = '全部'\n          } else {\n            vm.products = res.data.products.filter((item) => {\n              return item.category === category\n            })\n            vm.active.name = category\n          }\n        } else {\n          vm.$bus.$emit('message:push', res.data.message, 'danger')\n        }\n        vm.isLoading = false\n      })\n    },\n    getPage (page = 1) {\n      const vm = this\n      vm.isLoading = true\n      const api = `${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_MYPATH}/products?page=${page}`\n      vm.$http.get(api).then((res) => {\n        vm.isLoading = false\n        if (res.data.success) {\n          vm.products = res.data.products\n          vm.pagination = res.data.pagination\n        } else {\n          vm.$bus.$emit('message:push', res.data.message, 'danger')\n        }\n      })\n    },\n    getProduct (item) {\n      this.$router.push(`/product/${item.id}`)\n    },\n    getCategory () {\n      const vm = this\n      const api = `${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_MYPATH}/products/all`\n      vm.$http.get(api).then((res) => {\n        if (res.data.success) {\n          const arr = res.data.products\n          const set = new Set()\n          arr.filter((item) =>\n            !set.has(item.category) ? set.add(item.category) : false\n          )\n          const temCategory = [...set]\n          temCategory.forEach((item) => {\n            vm.categories.push({ title: item, num: 0, path: '' })\n          })\n          vm.categories.unshift({ title: '全部', num: 0, path: '' })\n          const arr2 = []\n          for (let i = 1; i < vm.categories.length; i++) {\n            const arr = res.data.products.filter((item) => {\n              return item.category === vm.categories[i].title\n            })\n            arr2.push(arr.length)\n          }\n          arr2.unshift(arr.length)\n          for (let j = 0; j < arr2.length; j++) {\n            vm.categories[j].num = arr2[j]\n          }\n          const arr4 = ['all', 'Castorland', 'Clementoni', 'Ravensburger']\n          for (let i = 0; i < vm.categories.length; i++) {\n            vm.categories[i].path = arr4[i]\n          }\n          vm.getProducts()\n        } else {\n          vm.$bus.$emit('message:push', res.data.message, 'danger')\n        }\n      })\n    }\n  },\n  created () {\n    this.getCategory()\n    this.getProducts()\n    this.getPage(1)\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.media-img {\n  width: 35%;\n}\n\n.card-img{\n  height: 200px;\n  background-size: cover;\n  background-position: center;\n}\n\n.card:hover{\n  cursor: pointer;\n  background-color: #343a40;\n  color: #f8f9fa;\n}\n\n@media screen and (min-width: 420px) and (max-width: 992px) {\n  .lg {\n    display: none;\n  }\n\n  .md {\n    display: block;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Products.vue?vue&type=template&id=5b6209de&scoped=true&\"\nimport script from \"./Products.vue?vue&type=script&lang=js&\"\nexport * from \"./Products.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Products.vue?vue&type=style&index=0&id=5b6209de&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b6209de\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=style&index=0&id=5b6209de&lang=scss&scoped=true&\""],"sourceRoot":""}