{"version":3,"sources":["webpack:///./src/views/backend/TestCheckout.vue?dc89","webpack:///src/views/backend/TestCheckout.vue","webpack:///./src/views/backend/TestCheckout.vue?ca7d","webpack:///./src/views/backend/TestCheckout.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","order","attrs","isLoading","on","$event","staticClass","_m","preventDefault","payOrder","_v","_l","item","key","id","_s","product","title","qty","unit","_f","final_total","total","user","email","name","tel","address","is_paid","_e","staticRenderFns","data","orderId","methods","getOrder","vm","$http","get","api","then","res","success","$bus","$emit","message","post","created","$route","params","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAIM,MAAQ,GAAEF,EAAG,MAAM,CAACA,EAAG,UAAU,CAACG,MAAM,CAAC,OAASP,EAAIQ,WAAWC,GAAG,CAAC,gBAAgB,SAASC,GAAQV,EAAIQ,UAAUE,KAAU,CAACN,EAAG,MAAM,CAACO,YAAY,qCAAqC,CAACP,EAAG,MAAM,CAACO,YAAY,oBAAoB,CAACP,EAAG,MAAM,CAACA,EAAG,SAASA,EAAG,MAAM,CAACA,EAAG,SAASA,EAAG,MAAM,CAACA,EAAG,SAASA,EAAG,MAAM,CAACA,EAAG,SAASA,EAAG,MAAM,CAACA,EAAG,SAASA,EAAG,MAAM,CAACA,EAAG,SAASA,EAAG,MAAM,CAACA,EAAG,SAASA,EAAG,MAAM,CAACA,EAAG,eAAeA,EAAG,MAAM,CAACO,YAAY,0BAA0B,CAACP,EAAG,MAAM,CAACJ,EAAIY,GAAG,GAAGR,EAAG,OAAO,CAACO,YAAY,gCAAgCF,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOG,iBAAwBb,EAAIc,SAASJ,MAAW,CAACN,EAAG,MAAM,CAACO,YAAY,YAAY,CAACP,EAAG,KAAK,CAACO,YAAY,QAAQ,CAACX,EAAIe,GAAG,WAAWX,EAAG,QAAQ,CAACO,YAAY,gDAAgD,CAACX,EAAIY,GAAG,GAAGR,EAAG,QAAQJ,EAAIgB,GAAIhB,EAAIM,MAAc,UAAE,SAASW,GAAM,OAAOb,EAAG,KAAK,CAACc,IAAID,EAAKE,IAAI,CAACf,EAAG,KAAK,CAACO,YAAY,0BAA0B,CAACX,EAAIe,GAAG,IAAIf,EAAIoB,GAAGH,EAAKI,QAAQC,OAAO,OAAOlB,EAAG,KAAK,CAACO,YAAY,gBAAgB,CAACX,EAAIe,GAAG,IAAIf,EAAIoB,GAAGH,EAAKM,KAAK,IAAIvB,EAAIoB,GAAGH,EAAKI,QAAQG,MAAM,OAAOpB,EAAG,KAAK,CAACO,YAAY,2BAA2B,CAACX,EAAIe,GAAG,IAAIf,EAAIoB,GAAGpB,EAAIyB,GAAG,aAAPzB,CAAqBA,EAAIyB,GAAG,YAAPzB,CAAoBiB,EAAKS,eAAe,YAAW,GAAGtB,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACO,YAAY,aAAaJ,MAAM,CAAC,QAAU,MAAM,CAACP,EAAIe,GAAG,QAAQX,EAAG,KAAK,CAACO,YAAY,cAAc,CAACX,EAAIe,GAAG,IAAIf,EAAIoB,GAAGpB,EAAIyB,GAAG,aAAPzB,CAAqBA,EAAIyB,GAAG,YAAPzB,CAAoBA,EAAIM,MAAMqB,SAAS,eAAevB,EAAG,MAAM,CAACO,YAAY,YAAY,CAACP,EAAG,KAAK,CAACO,YAAY,QAAQ,CAACX,EAAIe,GAAG,WAAWX,EAAG,MAAM,CAACO,YAAY,sBAAsB,CAACP,EAAG,QAAQ,CAACO,YAAY,uBAAuB,CAACP,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACO,YAAY,WAAWJ,MAAM,CAAC,MAAQ,QAAQ,CAACP,EAAIe,GAAG,aAAaX,EAAG,KAAK,CAACO,YAAY,YAAY,CAACX,EAAIe,GAAGf,EAAIoB,GAAGpB,EAAIM,MAAMsB,KAAKC,YAAYzB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIe,GAAG,UAAUX,EAAG,KAAK,CAACJ,EAAIe,GAAGf,EAAIoB,GAAGpB,EAAIM,MAAMsB,KAAKE,WAAW1B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIe,GAAG,aAAaX,EAAG,KAAK,CAACJ,EAAIe,GAAGf,EAAIoB,GAAGpB,EAAIM,MAAMsB,KAAKG,UAAU3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIe,GAAG,aAAaX,EAAG,KAAK,CAACJ,EAAIe,GAAGf,EAAIoB,GAAGpB,EAAIM,MAAMsB,KAAKI,cAAc5B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIe,GAAG,YAAYX,EAAG,KAAK,CAACO,YAAY,sBAAsB,CAAGX,EAAIM,MAAM2B,QAA6D7B,EAAG,OAAO,CAACO,YAAY,aAAa,CAACX,EAAIe,GAAG,UAAhGX,EAAG,IAAI,CAACO,YAAY,cAAc,CAACX,EAAIe,GAAG,qBAAiG,IAAtBf,EAAIM,MAAM2B,QAAmB7B,EAAG,MAAM,CAACA,EAAG,SAAS,CAACO,YAAY,qBAAqB,CAACX,EAAIe,GAAG,YAAYf,EAAIkC,cAAc,GAAGlC,EAAIkC,MACv7EC,EAAkB,CAAC,WAAa,IAAInC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACO,YAAY,QAAQ,CAACP,EAAG,IAAI,CAACO,YAAY,uBAAuBJ,MAAM,CAAC,cAAc,UAAUP,EAAIe,GAAG,aAAa,WAAa,IAAIf,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIe,GAAG,QAAQX,EAAG,KAAK,CAACJ,EAAIe,GAAG,QAAQX,EAAG,KAAK,CAACJ,EAAIe,GAAG,YCgHrY,G,UAAA,CACEqB,KADF,WAEI,MAAO,CACL9B,MAAO,GACP+B,QAAS,GACT7B,WAAW,IAGf8B,QAAS,CACPC,SADJ,WAEM,IAAN,OACMC,EAAGhC,WAAY,EACf,IAAN,sGACMgC,EAAGC,MAAMC,IAAIC,GAAKC,MAAK,SAA7B,GACYC,EAAIT,KAAKU,QACXN,EAAGlC,MAAQuC,EAAIT,KAAK9B,MAEpBkC,EAAGO,KAAKC,MAAM,eAAgBH,EAAIT,KAAKa,QAAS,UAElDT,EAAGhC,WAAY,MAGnBM,SAdJ,WAeM,IAAN,OACM0B,EAAGhC,WAAY,EACf,IAAN,oGACMgC,EAAGC,MAAMS,KAAKP,GAAKC,MAAK,SAA9B,GACQJ,EAAGhC,WAAY,EACXqC,EAAIT,KAAKU,SACXN,EAAGO,KAAKC,MAAM,eAAgBH,EAAIT,KAAKa,QAAS,QAChDT,EAAGD,YAEHC,EAAGO,KAAKC,MAAM,eAAgBH,EAAIT,KAAKa,QAAS,eAKxDE,QArCF,WAsCIlD,KAAKoC,QAAUpC,KAAKmD,OAAOC,OAAOhB,QAClCpC,KAAKsC,cCxJ4V,I,YCOjWe,EAAY,eACd,EACAvD,EACAoC,GACA,EACA,KACA,KACA,MAIa,aAAAmB,E","file":"js/chunk-2d0ab0cc.a594843e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.order.id)?_c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}},[_c('div',{staticClass:\"loadingio-spinner-spin-ur5grgaunp\"},[_c('div',{staticClass:\"ldio-dwsbgiuamos\"},[_c('div',[_c('div')]),_c('div',[_c('div')]),_c('div',[_c('div')]),_c('div',[_c('div')]),_c('div',[_c('div')]),_c('div',[_c('div')]),_c('div',[_c('div')]),_c('div',[_c('div')])])])]),_c('div',{staticClass:\"container mb-4 mt-md-5\"},[_c('div',[_vm._m(0),_c('form',{staticClass:\"row justify-content-md-center\",on:{\"submit\":function($event){$event.preventDefault();return _vm.payOrder($event)}}},[_c('div',{staticClass:\"col-lg-7\"},[_c('h5',{staticClass:\"my-3\"},[_vm._v(\"購物車內容\")]),_c('table',{staticClass:\"table table-striped table-bordered text-dark\"},[_vm._m(1),_c('tbody',_vm._l((_vm.order.products),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle text-left\"},[_vm._v(\" \"+_vm._s(item.product.title)+\" \")]),_c('td',{staticClass:\"align-middle\"},[_vm._v(\" \"+_vm._s(item.qty)+\"/\"+_vm._s(item.product.unit)+\" \")]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"dollarSign\")(_vm._f(\"numFormat\")(item.final_total)))+\" \")])])}),0),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"2\"}},[_vm._v(\"總計\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"dollarSign\")(_vm._f(\"numFormat\")(_vm.order.total)))+\" \")])])])])]),_c('div',{staticClass:\"col-lg-5\"},[_c('h5',{staticClass:\"my-3\"},[_vm._v(\"收件人資料\")]),_c('div',{staticClass:\"border list-bg p-3\"},[_c('table',{staticClass:\"table text-dark m-0\"},[_c('tbody',[_c('tr',[_c('th',{staticClass:\"border-0\",attrs:{\"width\":\"120\"}},[_vm._v(\"Email :\")]),_c('td',{staticClass:\"border-0\"},[_vm._v(_vm._s(_vm.order.user.email))])]),_c('tr',[_c('th',[_vm._v(\"姓名 :\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.name))])]),_c('tr',[_c('th',[_vm._v(\"收件人電話 :\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.tel))])]),_c('tr',[_c('th',[_vm._v(\"收件人地址 :\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.address))])]),_c('tr',[_c('th',[_vm._v(\"付款狀態 :\")]),_c('td',{staticClass:\"font-weight-bolder\"},[(!_vm.order.is_paid)?_c('i',{staticClass:\"text-muted\"},[_vm._v(\"尚未付款\")]):_c('span',{staticClass:\"text-dark\"},[_vm._v(\"付款完成\")])])])])])]),(_vm.order.is_paid === false)?_c('div',[_c('button',{staticClass:\"btn btn-dark my-3\"},[_vm._v(\"確認付款\")])]):_vm._e()])])])])],1):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h4',{staticClass:\"my-3\"},[_c('i',{staticClass:\"fa fa-check-square-o\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" 結帳確認 \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',[_vm._v(\"品名\")]),_c('th',[_vm._v(\"數量\")]),_c('th',[_vm._v(\"單價\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"order.id\">\n    <loading :active.sync=\"isLoading\">\n      <div class=\"loadingio-spinner-spin-ur5grgaunp\">\n        <div class=\"ldio-dwsbgiuamos\">\n          <div>\n            <div></div>\n          </div>\n          <div>\n            <div></div>\n          </div>\n          <div>\n            <div></div>\n          </div>\n          <div>\n            <div></div>\n          </div>\n          <div>\n            <div></div>\n          </div>\n          <div>\n            <div></div>\n          </div>\n          <div>\n            <div></div>\n          </div>\n          <div>\n            <div></div>\n          </div>\n        </div>\n      </div>\n    </loading>\n    <div class=\"container mb-4 mt-md-5\">\n      <div>\n        <h4 class=\"my-3\">\n          <i class=\"fa fa-check-square-o\" aria-hidden=\"true\"></i>\n          結帳確認\n        </h4>\n        <form class=\"row justify-content-md-center\" @submit.prevent=\"payOrder\">\n          <div class=\"col-lg-7\">\n            <h5 class=\"my-3\">購物車內容</h5>\n            <table class=\"table table-striped table-bordered text-dark\">\n              <thead>\n                <th>品名</th>\n                <th>數量</th>\n                <th>單價</th>\n              </thead>\n              <tbody>\n                <tr v-for=\"item in order.products\" :key=\"item.id\">\n                  <td class=\"align-middle text-left\">\n                    {{ item.product.title }}\n                  </td>\n                  <td class=\"align-middle\">\n                    {{ item.qty }}/{{ item.product.unit }}\n                  </td>\n                  <td class=\"align-middle text-right\">\n                    {{ item.final_total | numFormat | dollarSign }}\n                  </td>\n                </tr>\n              </tbody>\n              <tfoot>\n                <tr>\n                  <td colspan=\"2\" class=\"text-right\">總計</td>\n                  <td class=\"text-right\">\n                    {{ order.total | numFormat | dollarSign }}\n                  </td>\n                </tr>\n              </tfoot>\n            </table>\n          </div>\n          <div class=\"col-lg-5\">\n            <h5 class=\"my-3\">收件人資料</h5>\n            <div class=\"border list-bg p-3\">\n              <table class=\"table text-dark m-0\">\n                <tbody>\n                  <tr>\n                    <th class=\"border-0\" width=\"120\">Email :</th>\n                    <td class=\"border-0\">{{ order.user.email }}</td>\n                  </tr>\n                  <tr>\n                    <th>姓名 :</th>\n                    <td>{{ order.user.name }}</td>\n                  </tr>\n                  <tr>\n                    <th>收件人電話 :</th>\n                    <td>{{ order.user.tel }}</td>\n                  </tr>\n                  <tr>\n                    <th>收件人地址 :</th>\n                    <td>{{ order.user.address }}</td>\n                  </tr>\n                  <tr>\n                    <th>付款狀態 :</th>\n                    <td class=\"font-weight-bolder\">\n                      <i v-if=\"!order.is_paid\" class=\"text-muted\">尚未付款</i>\n                      <span v-else class=\"text-dark\">付款完成</span>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n\n            <div v-if=\"order.is_paid === false\">\n              <button class=\"btn btn-dark my-3\">確認付款</button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      order: {},\n      orderId: '',\n      isLoading: false\n    }\n  },\n  methods: {\n    getOrder () {\n      const vm = this\n      vm.isLoading = true\n      const api = `${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_MYPATH}/order/${vm.orderId}`\n      vm.$http.get(api).then((res) => {\n        if (res.data.success) {\n          vm.order = res.data.order\n        } else {\n          vm.$bus.$emit('message:push', res.data.message, 'danger')\n        }\n        vm.isLoading = false\n      })\n    },\n    payOrder () {\n      const vm = this\n      vm.isLoading = true\n      const api = `${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_MYPATH}/pay/${vm.orderId}`\n      vm.$http.post(api).then((res) => {\n        vm.isLoading = false\n        if (res.data.success) {\n          vm.$bus.$emit('message:push', res.data.message, 'dark')\n          vm.getOrder()\n        } else {\n          vm.$bus.$emit('message:push', res.data.message, 'danger')\n        }\n      })\n    }\n  },\n  created () {\n    this.orderId = this.$route.params.orderId\n    this.getOrder()\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestCheckout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestCheckout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TestCheckout.vue?vue&type=template&id=c4e7e3fc&\"\nimport script from \"./TestCheckout.vue?vue&type=script&lang=js&\"\nexport * from \"./TestCheckout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}